<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Network Functions Virtualization (NFV) - Arquitetura |</title><meta name=keywords content="tech,novabase,etsi,virtualisation,Network Functions Virtualization,nfv"><meta name=description content="⚠ This article is written in Portuguese. If you would like to get access to the English version please contact me directly.
1. Âmbito O presente documento introduz a arquitetura conceptual de alto nível da virtualização de funções de rede (NFV) definida pelo European Telecommunications Standards Institute (ETSI) no Group Specification NFV 002 v1.2.1. Adicionalmente, descreve a infraestrutura, blocos funcionais e interfaces, assim como a ligação e suporte desta arquitetura."><meta name=author content><link rel=canonical href=https://www.jonathangoc.com/articles/network-functions-virtualization-architecture/><meta name=google-site-verification content="G-FGMRDHDQZJ"><link crossorigin=anonymous href=/assets/css/stylesheet.f4d00e580e5f22de736eae61fcef26dce9c449e5197f0c7ea3753d9ef22c6f72.css integrity="sha256-9NAOWA5fIt5zbq5h/O8m3OnESeUZfwx+o3U9nvIsb3I=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.jonathangoc.com/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.jonathangoc.com/img/favicon-16x-16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jonathangoc.com/img/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jonathangoc.com/img/apple-touch-icon.png><link rel=mask-icon href=https://www.jonathangoc.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-FGMRDHDQZJ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FGMRDHDQZJ",{anonymize_ip:!1})}</script><meta property="og:title" content="Network Functions Virtualization (NFV) - Arquitetura"><meta property="og:description" content="⚠ This article is written in Portuguese. If you would like to get access to the English version please contact me directly.
1. Âmbito O presente documento introduz a arquitetura conceptual de alto nível da virtualização de funções de rede (NFV) definida pelo European Telecommunications Standards Institute (ETSI) no Group Specification NFV 002 v1.2.1. Adicionalmente, descreve a infraestrutura, blocos funcionais e interfaces, assim como a ligação e suporte desta arquitetura."><meta property="og:type" content="article"><meta property="og:url" content="https://www.jonathangoc.com/articles/network-functions-virtualization-architecture/"><meta property="og:image" content="https://www.jonathangoc.com/img/nfv5.png"><meta property="article:section" content="articles"><meta property="article:published_time" content="2015-08-18T16:45:00+00:00"><meta property="article:modified_time" content="2015-08-18T16:45:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jonathangoc.com/img/nfv5.png"><meta name=twitter:title content="Network Functions Virtualization (NFV) - Arquitetura"><meta name=twitter:description content="⚠ This article is written in Portuguese. If you would like to get access to the English version please contact me directly.
1. Âmbito O presente documento introduz a arquitetura conceptual de alto nível da virtualização de funções de rede (NFV) definida pelo European Telecommunications Standards Institute (ETSI) no Group Specification NFV 002 v1.2.1. Adicionalmente, descreve a infraestrutura, blocos funcionais e interfaces, assim como a ligação e suporte desta arquitetura."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Articles","item":"https://www.jonathangoc.com/articles/"},{"@type":"ListItem","position":3,"name":"Network Functions Virtualization (NFV) - Arquitetura","item":"https://www.jonathangoc.com/articles/network-functions-virtualization-architecture/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Network Functions Virtualization (NFV) - Arquitetura","name":"Network Functions Virtualization (NFV) - Arquitetura","description":"⚠ This article is written in Portuguese. If you would like to get access to the English version please contact me directly.\n1. Âmbito O presente documento introduz a arquitetura conceptual de alto nível da virtualização de funções de rede (NFV) definida pelo European Telecommunications Standards Institute (ETSI) no Group Specification NFV 002 v1.2.1. Adicionalmente, descreve a infraestrutura, blocos funcionais e interfaces, assim como a ligação e suporte desta arquitetura.","keywords":["tech","novabase","etsi","virtualisation","Network Functions Virtualization","nfv"],"articleBody":" ⚠ This article is written in Portuguese. If you would like to get access to the English version please contact me directly.\n1. Âmbito O presente documento introduz a arquitetura conceptual de alto nível da virtualização de funções de rede (NFV) definida pelo European Telecommunications Standards Institute (ETSI) no Group Specification NFV 002 v1.2.1. Adicionalmente, descreve a infraestrutura, blocos funcionais e interfaces, assim como a ligação e suporte desta arquitetura.\nAtravés deste documento, pretende-se mostrar ao leitor os fundamentos do NFV.\nPela sua própria essência este estudo é orientado para a rede dos operadores de telecomunicações.\n2. Sumário Executivo 2.1. Estrutura do Documento O presente documento está estruturado da seguinte forma:\nO Capítulo 2 apresenta o âmbito e objetivos da virtualização de rede. Adicionalmente descreve a abordagem do ETSI no contexto do NFV. O Capítulo 3 introduz os conceitos mais importantes no processo de virtualização e descreve genericamente a arquitetura NFV e blocos funcionais propostos pelo ETSI. O Capítulo 4 aborda o tema dos serviços de rede num ambiente NFV e as suas implicações. O Capítulo 5 apresenta detalhadamente a framework do NFV e descreve os blocos constituintes assim como as interfaces de interação entre estes. Por fim, o Capítulo 6 conclui o presente documento e especifica o trabalho que a se pretende realizar no futuro. 2.2. Objetivos da virtualização de funções de rede (NFV) De uma forma geral, o NFV tem como principais objetivos:\nRedução de custos quando comparado com implementações em que o hardware é dedicado, ou seja, através do uso de equipamento disponível no mercado hoje em dia (ex. servidores e equipamentos de armazenamento) e aplicando técnicas específicas de virtualização é possível desenvolver funções de rede com base em software. Estas funções de rede são designadas por funções de rede virtualizadas (VNFs – Virtualised Network Functions). Consequentemente, a partilha de hardware e a redução do número de arquiteturas leva a uma redução de custos. Aumento de flexibilidade ao implementar VNFs e que se traduz em maior escalabilidade. Isto permite que as funcionalidades da rede sejam desagregadas do local onde se encontram e que sejam implementadas no local da rede mais apropriado (nas premissas do cliente, no data center, no central office, etc). Este tipo de flexibilidade permite o reuso das funções de rede, maior suporte durante a fase de testes, melhoria da resiliência através da virtualização e maior partilha dos recursos. Rápida inovação de serviços através da implementação dos mesmos a partir de software. Maior eficiência operacional resultante de processos de automação e operação. Redução dos custos energéticos através do balanceamento de cargas e adaptação da energia com base no uso efetuado pelo hardware. 2.3. Descrição da abordagem do ETSI Segundo o ETSI, as redes de telecomunicações são constituídas por diferentes funções de rede. Estas funções de rede estão ligadas entre si de forma a criar uma determinada funcionalidade ou serviço e para o qual a rede foi desenhada. Na sua maioria, os serviços de redes de telecomunicações são definidos com base em funções de rede estáticas e que podem ser representados por diagramas designados por Network Function Forwarding Graph (NF Forwarding Graph).\nNote: NF Forwarding Graph designa o diagrama lógico das ligações entre nós NF com o intuito de representar o fluxo de tráfego entre funções de rede.\nO maior avanço tecnológico é o facto da virtualização, no contexto do NFV, disponibilizar métodos dinâmicos para criar e gerir as funções de rede e os fluxos de tráfego entre eles. Com isto, o conceito de NFV foca-se em explorar a criação e gestão dinâmica do conjunto de funções de rede e da sua interação com o plano de dados, controlo e de gestão. A título de exemplo, o NF Forwarding Graph foca-se nas relações entre funções de redes no que diz respeito à sua conectividade e aos aspectos introduzidos pela sua virtualização.\nPara além disso, os serviços de rede do futuro serão diferentes dos atuais. Para se ter uma ideia, esses serviços irão incluir uma diversidade de funções de rede não-virtuais e virtuais, sendo esta última suportada por uma infraestrutura de rede e capacidade de computação virtualizada. Ao conjugar estes dois domínios (o virtual e o não-virtual) haverá a necessidade de interoperabilidade entre ambos.\nOs atributos dos serviços, em particular fiabilidade, disponibilidade, segurança e desempenho, dependerão das capacidades individuais das funções de rede virtualizadas e da forma como essas funções estão ligadas. Esses atributos estão dependentes uns dos outros pelo que é importante a concepção de uma arquitetura que suporte a grande diversidade de funções de rede que potencialmente podem ser virtualizadas.\nO ETSI tem-se dedicado ao estudo e desenvolvimento de uma arquitetura e dos elementos constituintes que permita implementar o conceito de NFV de uma forma normalizada e que possibilite interoperabilidade. Através desta abordagem, diferentes funções de rede virtualizadas podem ser implementadas sobre um ambiente de virtualização com o objetivo de suportar serviços end-to-end (E2E). E que adicionalmente, possa ser aplicado aos diferentes cenários de rede de um operador de telecomunicações, diminuindo o esforço de configuração e integração\nPara o grupo de trabalho, dedicado ao NFV dentro do ETSI, a virtualização significa que parte da infraestrutura de rede e as funções integrantes são implementadas em software, e como tal, a criação de uma arquitetura NFV é um aspeto importante para a construção de uma framework de trabalho.\n3.0. Framework NFV 3.1. Introdução Geralmente em redes não-virtualizadas, as funções de rede são implementadas com base numa combinação de software/hardware de um fabricante específico e que muitas vezes são designados por nós rede ou elementos de rede.\nO NFV representa uma inovação para os apaixonados pelas redes de telecomunicações, introduzindo várias diferenças comparativamente à forma como os serviços são provisionados. Algumas dessas diferenças são:\nSeparar software do hardware: permite que o software tenha uma linha de evolução diferente e separada da do hardware. Assim, a evolução de ambos é independente. Implementação flexível das funções de rede: a desagregação do software do hardware ajuda a reatribuir e a partilhar os recursos da infraestrutura física e assim cada uma das componentes pode desempenhar funções diferentes. Assumindo que o conjunto de recursos físicos se encontra instalado num determinado Network Functions Virtualization Infrastructure Point-of-Presence (NFVI-POP), o processo de instanciação de funções de rede pode tornar-se mais mecânico. Isto permite aos operadores de redes implementar, sobre a mesma plataforma física, novos serviços de rede. Operação dinâmica: ao separar as funcionalidades das funções de rede em componentes capazes de serem instanciadas permitirá maior escalabilidade, dinamismo e ainda maior desempenho das VNFs. Por exemplo, permite ajustar dinamicamente o desempenho da VNF de acordo com o padrão de tráfego. De acordo com o que foi descrito anteriormente, de seguida apresenta-se a framework NFV que se baseia nos seguintes pressupostos:\nSuportar um grande número de serviços de rede com diferentes níveis de fiabilidade e disponibilidade, alavancando novas técnicas de virtualização. Assegurar que a virtualização não provoca novas ameaças de segurança. Minimizar o impacto da interoperabilidade entre as funções de rede virtualizadas e não-virtualizadas. Alavancar tecnologia existente no Data Center. As funções de redes incorporam diferentes aspetos que muitas vezes estão associados à componente física ou virtual e que não são abordados neste documento.\n3.2. Descrição de alto nível da framework NFV O NFV prevê a implementação de funções de rede como entidades baseadas em software e que operam sobre a infraestrutura de NFV designada por NFV Infrastructure (NFVI). A figura seguinte ilustra a framework aqui apresentada.\nFigura 1: Blocos constituintes da Framework NFV. A framework NFV apresenta três grandes domínios:\nVirtualised Network Functions (VNFs) que corresponde à implementação de funções de rede em software e que tem a capacidade de operar sobre o domínio NFVI. NFV Infastructure (NFVI) é composta pela grande diversidade de recursos físicos existentes, assim como, a sua virtualização através da camada intermédia. Este domínio suporta as VNFs. NFV Management and Orchestration corresponde a todos os processos e tarefas específicos da gestão da virtualização. Este domínio abrange ainda o processo de orquestração e de gestão do ciclo de vida do hardware e software que suportam a infraestrutura de virtualização. Esta framework permite a gestão dinâmica das VNFs e a criação de relações entre elas e o plano de dados, bem como, controlo e gestão das suas dependências.\nCom base em diferentes perspetivas e de acordo com determinados contextos, esta framework pode permitir:\nImplementar e integrar máquinas virtuais sobre um ambiente de virtualização; Utilizar um conjunto de programas/aplicações de um determinado fabricante que pode incluir várias máquinas virtuais interligadas e templates de implementação que definem os atributos; Ou ainda, operar e gerir VNFs, que do ponto de vista do operador, podem ser adquiridas através de um programa/aplicação. De acordo com as utilizações acima mencionadas, existe a seguinte relação entre VNFs:\nVNF Forwarding Graph (VNF-FG) representa as ligações entre VNF que estão especificadas, como por exemplo: VNFs ligadas em cascata formando um caminho até à camada de web server (firewall, NAT, load balancer). VNF Set representa as ligações entre VNFs que não estão especificadas (ex. conjunto de web server). De seguida apresenta-se os blocos funcionais dos serviços de rede e a sua associação com os gráficos VNF-FG. Pretende-se assim clarificar o leitor para o facto de que os serviços de rede end-to-end (ex. Internet, VPN, dados móveis e voz) podem ser descritos por um gráfico do tipo NF Forwarding Graph.\n4.0. Serviços de Rede No Contexto NFV 4.1. Virtualização dos Blocos Funcionais Do ponto de vista do desenho da arquitetura, os serviços de rede podem ser vistos como um gráfico de encaminhamento constituído por funções de rede (NFs) interligados através de uma infraestrutura física. Estas funções de rede podem ser implementadas na rede de um operador de telecomunicações ou em redes de operadores distintos. A forma como as funções de rede operam influência o desempenho dos serviços de alto nível e por conseguinte, o desempenho dos serviços de rede tornam-se numa combinação de procedimentos dos seus blocos funcionais, que podem incluir NFs individuais, um conjunto de NFs, gráficos de encaminhamento NFs e/ou a própria infraestrutura de rede.\nOs end points e as funções de rede de um determinado serviço são representados como nós de rede e que podem corresponder a dispositivos, aplicações e/ou servidores físicos. Num gráfico de encaminhamento de serviços as ligações lógicas podem ser unidirecionais, bidirecionais, ligações em multicast e/ou broadcast.\nA Figura 2 apresenta um serviço de rede end-to-end que inclui no centro uma representação de um NF Forwarding Graph formado pelas NF 1, NF 2 e NF 3, ligadas logicamente. Os end points estão ligados aos NFs através de uma infraestrutura física (wireless ou wired), resultando assim numa ligação lógica entre os dois. Essas ligações lógicas estão representadas por uma linha tracejada.\nFigura 2: Representação gráfica de um serviço de rede ponto-a-ponto. A Figura 3 ilustra o detalhe de um serviço de rede end-to-end e as diferentes camadas que estão envolvidas no processo de virtualização. Neste exemplo, a arquitetura que suporta o serviço de rede é formado por VNFs e dois end points. A camada de virtualização é responsável por desagregar o software do hardware, originando uma camada de abstração entre o sofware e os recursos físicos.\nOs NFVI-PoPs representam os recursos físicos instalados pelo operador (computation, storage e networking).\nComo se pode observar na Figura 3, as funções de rede virtualizadas (VNFs) operam sobre a camada de virtualização, que é uma componente integrante do NFV Infrastructure. O gráfico VNF Forwarding apresentado na Figura 2 também está incluído na ilustração abaixo apresentada. Neste caso específico verifica-se que existe um aglomerado de VNFs designado por VNF-FG-2 e que é composto por VNF-2A, VNF-2B e VNF-2C. Pretende-se assim demonstrar que as interfaces entre funções de rede físicas ou virtuais e a própria infraestrutura de rede num ambiente multi-vendor devem ser baseados em standards.\nFigura 3: Exemplo de um serviço ponto-a-ponto com VNFs e um aglomerado de VNF-FG. 4.2. Implicações no NFV A criação de modelos de serviços de rede end-to-end através de técnicas de virtualização pressupõe a introdução de funcionalidades adicionais. O ETSI identifica modelos de serviços aplicáveis no contexto NFV e os requisitos de implementação e operação desses modelos. Porém, este tema está fora do âmbito do presente documento.\n5.0 Arquitetura Detalhada Da Framework NFV 5.1. Introdução A arquitetura da framework NFV baseia-se nas mudanças que poderão ter que acontecer numa rede de operador devido aos processos de virtualização das funções de rede. É por isso que o ETSI continua a focar os seus esforços em desenvolver uma framework que se baseia em novos blocos funcionais e pilares de referência. De seguida apresenta-se os blocos da arquitetura NFV.\n5.2. Visão Geral dos Blocos Funcionais da Arquitetura NFV A framework NFV identifica de forma clara os blocos funcionais e principais interfaces de referência entre os blocos. Posto isto, apresenta-se os blocos funcionais:\nVirtualised Network Function (VNF);\nElement Management (EM);\nNFV Infrastructure, que inclui:\nRecursos Físicos (Hardware), Virtualisation Layer e Recursos virtualizados, Virtualised Infrastructure Manager(s);\nNFV Orchestrator;\nVNF Manager(s);\nService, VNF and Infrastructure Description;\nOperations and Business Support Systems (OSS/BSS).\nA Figura 4 ilustra a arquitetura de referência do NFV, os seus blocos funcionais e as interfaces de interação entre eles. Nesta figura, considera-se que as linhas sólidas que ligam alguns dos blocos funcionais correspondem as interfaces de referência mais importantes e que estão no âmbito do estudo feito pelo ETSI no contexto do NFV. Esta arquitetura foca-se nas funcionalidades necessárias para a virtualização e consequentemente para a operação da rede do operador de telecomunicações. Segundo o ETSI, esta framework não especifica quais as funções de rede que devem ser virtualizadas, cabendo assim esta tarefa ao operador de telecomunicações, em conjunto com os seus parceiros (integradores e fabricantes), de analisar e decidir quais as funções de rede podem ou devem ser virtualizadas com base em requisitos tecnológicos e/ou de negócio.\nFigura 4: Arquitetura de referência do NFV. Os subcapítulos seguintes descrevem sucintamente cada um dos blocos funcionais.\n5.3. Virtualised Network Function (VNF) A virtualização de funções de rede é, como o próprio nome indica, abstrair funções de rede implementadas num equipamento físico, que estão profundamente interligadas, e virtualiza-las na própria rede. A título de exemplo, funções de rede como Mobility Management Entity (MME), Serving Gateway (SGW) e Packet Data Network Gateway (PGW) podem ser virtualizadas. Outros exemplos são: servidores de Dynamic Host Configuration Protocol (DHCP), firewalls e Residential Gateways (RGWs).\nO ETSI alega que os modos de funcionamento das funções de rede não estão dependentes da forma como são implementados, isto é, se são implementadas fisicamente ou virtualmente. É espectável que o modo de funcionamento e o desempenho das interfaces externas das funções de rede física e das funções de rede virtuais venham a ser iguais.\nUma VNF pode ser constituída por várias componentes. Por exemplo, uma VNF pode ser implementada em diferentes máquinas virtuais onde cada uma destas máquinas virtuais acomoda uma das componentes da VNF. No entanto, a mesma VNF pode ser instanciada na mesma máquina virtual.\n5.4. Element Managament (EM) O Element Management é responsável pela gestão de uma ou variais VNFs.\n5.5. NFV Infrastructure Definição de NFV Infrastructure\nA Infraestrutura NFV ou NVF Infrastructure corresponde a todas as componentes de hardware e software que permitem criar o ambiente necessário para implementar, gerir e manter VNFs. Esta infraestrutura pode estar espalhada pelas diferentes NFVI-PoPs.\nDo ponto de vista das VNFs, a camada de virtualização e os recursos físicos apresentam-se como uma entidade única fornecendo os recursos virtuais necessário ao funcionamento da VNF.\nRecursos Físicos (Hardware)\nNo âmbito do NFV, os recursos físicos incluindo computação, armazenamento e recursos de rede, fornecem às VNFs computação, armazenamento e conectividade através da camada de virtualização. Assume-se que a capacidade de processamento seja fornecida por hardware genérico e não hardware dedicado e desenvolvido com o propósito de suportar uma determinada função de rede.\nVirtualisation Layer e Recursos virtualizados\nA camada de virtualização abstrai os recursos físicos e permite desagregar o software da infraestrutura física. Desta forma é possível garantir que o tempo de vida do hardware é distinto do software.\nEm suma, a camada de virtualização é responsável por:\nAbstrair os recursos físicos; Permitir que as VNFs utilizem a infraestrutura virtualizada; Fornecer recursos virtuais às VNFs. Como mencionado anteriormente, a Arquitetura de referência do NFV é apresentada na Figura 4. A camada de virtualização garante que as VNFs são dissociadas dos recursos de hardware e, portanto, o software pode ser implantado nos diferentes recursos físicos. Normalmente, este tipo de flexibilidade é fornecido por recursos de computação e armazenamento sob a forma de hypervisors e VMs.\nEsta arquitetura permite o uso de qualquer solução de virtualização, pelo que, é expectável no contexto NFV seja utilizado camadas de virtualização com características e interfaces standard. Em alguns casos, as VMs podem ter acesso direto a recursos de hardware (por exemplo, interface de rede) para um melhor desempenho. No entanto, em NFV, VMs devem permitir abstrair os recursos físicos da rede.\n5.6. Virtualised Infrastructure Manager(s) A gestão da infraestrutura virtualizada possui funcionalidades que são usadas para controlar e gerir a interação das VNFs com os recursos físicos da rede (computação, armazenamento e comunicação). Analisando a Figura 4 e tendo em consideração os recursos físicos especificados nesta arquitetura, o Virtualised Infrastructure Manager é responsável por:\nFazer a gestão dos hypervisors, capacidade de processamento, comunicação e armazenamento dedicados à infraestrutura NFV; Alocar máquinas virtuais sobre os ambientes de virtualização disponíveis, capacidade de processamento, conectividade de rede e armazenamento para o efeito; Gerir os recursos da infraestrutura, ou seja, alocar mais capacidade de processamento às VMs (se necessário) e diminuir o consumo energético (quando possível). Dar visibilidade sobre os recursos disponíveis nesta infraestrutura NFV; Recolha de informação relevante para permitir um planeamento mais detalhado da infraestrutura, assim como, monitorizar e optimizar; Reportar falhas da infraestrutura. Em suma, num ambiente NFV, vários Virtualised Infrastructure Manager podem ser implementados.\n5.7. NFV Orchestrator O orquestrador NFV é responsável por orquestrar e fazer a gestão da infraestrutura NFV, das aplicações e dos serviços de rede.\n5.8. VNF Manager(s) O Gestor de VNF tem como função gerir o tempo de vida das funções de rede virtualizadas, ou seja, instalar, atualizar, manter e desinstalar.\nVários Gestores de VNF podem ser instanciados para gerir várias VNFs ou apenas um Gestor de VNF pode ser instalado para gerir o conjunto de VNFs.\n5.9. Service, VNF and Infrastructure Description Este conjunto de dados fornece informações sobre o modelo/template de implementação de VNF, informações relacionadas com o serviço e VNF Forwarding Graph. Estes modelos/templates são utilizados internamente na gestão e orquestração em NFV. Os blocos funcionais da Gestão NFV e Orquestração lidam diretamente com as informações contidas nos modelos/templates e têm a capacidade para disponibilizar essa informação se necessário.\n5.10. Operations and Business Support Systems (OSS/BSS) As ferramentas de OSS e BSS estão ilustradas na arquitetura da Figura 4 e correspondem às ferramentas existentes na rede do operador de telecomunicações.\n5.11. Interfaces de Referência As interfaces de referência entre os blocos funcionais da arquitetura NFV correspondem aos pontos de interação entre estes. O presente documento não detalha e/ou especifica as interfaces pelo que é importante ficar com a ideia de que as interfaces entre os blocos funcionais definem o modo como estes comunicam uns com os outros.\n6.0. Conclusão e Trabalho Futuro Conclusão O NFV apresenta-se como uma mudança de paradigma nas redes de telecomunicações, na sua operação e na sua gestão. O presente documento focou-se em demonstrar e explicar a arquitetura NFV proposta pelo ETSI, assim como, os seus blocos constituintes, interfaces de referência e da camada de virtualização.\nA implementação bem-sucedida da arquitetura NFV ilustrada neste documento depende do desenvolvimento dos blocos funcionais e das interfaces de comunicação. À data do presente documento, existem tecnologias e soluções capazes de desempenhar as funções de cada bloco funcional descrito anteriormente. O poder de decisão, pelas escolhas de soluções que se enquadram na framework NFV, pertence ao Operador de Telecomunicações e que pode ter em consideração os requisitos técnicos e de negócio.\nTrabalho Futuro Como trabalho futuro, pretende-se explorar em detalhe da tecnologia NFV e estudar soluções existentes no mercado que refletem um ou vários blocos funcionais da arquitetura NFV.\nBibliografia As referências apresentadas neste capítulo formam a base da criação do presente documento:\n[1] ETSI GS NFV 001: “Network Functions Virtualisation (NFV); Use Cases”.\n[2] ETSI GS NFV 002: “Network Functions Virtualisation (NFV); Architectural Framework”.\n[3] ETSI GS NFV 003: “Network Functions Virtualisation (NFV); Terminology for Main Concepts in NFV”.\n[4] ETSI GS NFV 004: “Network Functions Virtualisation (NFV); Virtualisation Requirements”.\n","wordCount":"3397","inLanguage":"en","image":"https://www.jonathangoc.com/img/nfv5.png","datePublished":"2015-08-18T16:45:00Z","dateModified":"2015-08-18T16:45:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jonathangoc.com/articles/network-functions-virtualization-architecture/"},"publisher":{"@type":"Organization","name":" ","logo":{"@type":"ImageObject","url":"https://www.jonathangoc.com/img/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://www.jonathangoc.com accesskey=h title="  (Alt + H)"><img src=https://www.jonathangoc.com/img/logo3.png alt aria-label=logo height=35></a><div class=logo-switches></div></div><ul id=menu><li><a href=https://www.jonathangoc.com/meetme/ title="Meet Me"><span>Meet Me</span></a></li><li><a href=https://www.jonathangoc.com/archive/ title=Archive><span>Archive</span></a></li><li><a href=https://www.jonathangoc.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.jonathangoc.com>Home</a>&nbsp;»&nbsp;<a href=https://www.jonathangoc.com/articles/>Articles</a></div><h1 class=post-title>Network Functions Virtualization (NFV) - Arquitetura</h1><div class=post-meta><span title='2015-08-18 16:45:00 +0000 +0000'>August 18, 2015</span>&nbsp;·&nbsp;16 min&nbsp;·&nbsp;3397 words</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-âmbito>1. Âmbito</a></li><li><a href=#2-sumário-executivo>2. Sumário Executivo</a><ul><li><a href=#21-estrutura-do-documento>2.1. Estrutura do Documento</a></li><li><a href=#22-objetivos-da-virtualização-de-funções-de-rede-nfv-a-id22a>2.2. Objetivos da virtualização de funções de rede (NFV)</a></li><li><a href=#23-descrição-da-abordagem-do-etsi-a-id23a>2.3. Descrição da abordagem do ETSI</a></li></ul></li><li><a href=#30-framework-nfv-a-name30a>3.0. Framework NFV</a><ul><li><a href=#31-introdução-a-name31a>3.1. Introdução</a></li><li><a href=#32-descrição-de-alto-nível-da-framework-nfv-a-name32a>3.2. Descrição de alto nível da framework NFV</a></li></ul></li><li><a href=#40-serviços-de-rede-no-contexto-nfv-a-name40a>4.0. Serviços de Rede No Contexto NFV</a><ul><li><a href=#41-virtualização-dos-blocos-funcionais-a-name41a>4.1. Virtualização dos Blocos Funcionais</a></li><li><a href=#42-implicações-no-nfv-a-name42a>4.2. Implicações no NFV</a></li></ul></li><li><a href=#50-arquitetura-detalhada-da-framework-nfv-a-name50a>5.0 Arquitetura Detalhada Da Framework NFV</a><ul><li><a href=#51-introdução-a-name51a>5.1. Introdução</a></li><li><a href=#52-visão-geral-dos-blocos-funcionais-da-arquitetura-nfv-a-name52a>5.2. Visão Geral dos Blocos Funcionais da Arquitetura NFV</a></li><li><a href=#53-virtualised-network-function-vnf-a-name53a>5.3. Virtualised Network Function (VNF)</a></li><li><a href=#54-element-managament-em-a-name54a>5.4. Element Managament (EM)</a></li><li><a href=#55-nfv-infrastructure-a-name54a>5.5. NFV Infrastructure</a></li><li><a href=#56-virtualised-infrastructure-managers-a-name56a>5.6. Virtualised Infrastructure Manager(s)</a></li><li><a href=#57-nfv-orchestrator-a-name57a>5.7. NFV Orchestrator</a></li><li><a href=#58-vnf-managers-a-name58a>5.8. VNF Manager(s)</a></li><li><a href=#59-service-vnf-and-infrastructure-description-a-name59a>5.9. Service, VNF and Infrastructure Description</a></li><li><a href=#510-operations-and-business-support-systems-ossbss-a-name510a>5.10. Operations and Business Support Systems (OSS/BSS)</a></li><li><a href=#511-interfaces-de-referência-a-name511a>5.11. Interfaces de Referência</a></li></ul></li><li><a href=#60-conclusão-e-trabalho-futuro-a-name60a>6.0. Conclusão e Trabalho Futuro</a><ul><li><a href=#conclusão-a-name61a>Conclusão</a></li><li><a href=#trabalho-futuro-a-name62a>Trabalho Futuro</a></li></ul></li><li><a href=#bibliografia-a-name70a>Bibliografia</a></li></ul></nav></div></details></div><div align=justify ; class=post-content><blockquote><p><em><strong>⚠ This article is written in Portuguese. If you would like to get access to the English version please contact me directly.</strong></em></p></blockquote><h2 id=1-âmbito>1. Âmbito<a hidden class=anchor aria-hidden=true href=#1-âmbito>#</a></h2><p>O presente documento introduz a arquitetura conceptual de alto nível da virtualização de funções de rede (NFV) definida pelo European Telecommunications Standards Institute (ETSI) no Group Specification NFV 002 v1.2.1. Adicionalmente, descreve a infraestrutura, blocos funcionais e interfaces, assim como a ligação e suporte desta arquitetura.</p><p>Através deste documento, pretende-se mostrar ao leitor os fundamentos do NFV.</p><p>Pela sua própria essência este estudo é orientado para a rede dos operadores de telecomunicações.</p><h2 id=2-sumário-executivo>2. Sumário Executivo<a hidden class=anchor aria-hidden=true href=#2-sumário-executivo>#</a></h2><h3 id=21-estrutura-do-documento>2.1. Estrutura do Documento<a hidden class=anchor aria-hidden=true href=#21-estrutura-do-documento>#</a></h3><p>O presente documento está estruturado da seguinte forma:</p><ul><li>O <strong>Capítulo 2</strong> apresenta o âmbito e objetivos da virtualização de rede. Adicionalmente descreve a abordagem do ETSI no contexto do NFV.</li><li>O <strong>Capítulo 3</strong> introduz os conceitos mais importantes no processo de virtualização e descreve genericamente a arquitetura NFV e blocos funcionais propostos pelo ETSI.</li><li>O <strong>Capítulo 4</strong> aborda o tema dos serviços de rede num ambiente NFV e as suas implicações.</li><li>O <strong>Capítulo 5</strong> apresenta detalhadamente a framework do NFV e descreve os blocos constituintes assim como as interfaces de interação entre estes.</li><li>Por fim, o <strong>Capítulo 6</strong> conclui o presente documento e especifica o trabalho que a se pretende realizar no futuro.</li></ul><h3 id=22-objetivos-da-virtualização-de-funções-de-rede-nfv-a-id22a>2.2. Objetivos da virtualização de funções de rede (NFV) <a hidden class=anchor aria-hidden=true href=#22-objetivos-da-virtualização-de-funções-de-rede-nfv-a-id22a>#</a></h3><p>De uma forma geral, o NFV tem como principais objetivos:</p><ul><li>Redução de custos quando comparado com implementações em que o hardware é dedicado, ou seja, através do uso de equipamento disponível no mercado hoje em dia (ex. servidores e equipamentos de armazenamento) e aplicando técnicas específicas de virtualização é possível desenvolver funções de rede com base em software. Estas funções de rede são designadas por funções de rede virtualizadas (VNFs – Virtualised Network Functions). Consequentemente, a partilha de hardware e a redução do número de arquiteturas leva a uma redução de custos.</li><li>Aumento de flexibilidade ao implementar VNFs e que se traduz em maior escalabilidade. Isto permite que as funcionalidades da rede sejam desagregadas do local onde se encontram e que sejam implementadas no local da rede mais apropriado (nas premissas do cliente, no data center, no central office, etc). Este tipo de flexibilidade permite o reuso das funções de rede, maior suporte durante a fase de testes, melhoria da resiliência através da virtualização e maior partilha dos recursos.</li><li>Rápida inovação de serviços através da implementação dos mesmos a partir de software.</li><li>Maior eficiência operacional resultante de processos de automação e operação.</li><li>Redução dos custos energéticos através do balanceamento de cargas e adaptação da energia com base no uso efetuado pelo hardware.</li></ul><h3 id=23-descrição-da-abordagem-do-etsi-a-id23a>2.3. Descrição da abordagem do ETSI <a hidden class=anchor aria-hidden=true href=#23-descrição-da-abordagem-do-etsi-a-id23a>#</a></h3><p>Segundo o ETSI, as redes de telecomunicações são constituídas por diferentes funções de rede. Estas funções de rede estão ligadas entre si de forma a criar uma determinada funcionalidade ou serviço e para o qual a rede foi desenhada. Na sua maioria, os serviços de redes de telecomunicações são definidos com base em funções de rede estáticas e que podem ser representados por diagramas designados por Network Function Forwarding Graph (NF Forwarding Graph).</p><blockquote><p><strong>Note:</strong> NF Forwarding Graph designa o diagrama lógico das ligações entre nós NF com o intuito de representar o fluxo de tráfego entre funções de rede.</p></blockquote><p>O maior avanço tecnológico é o facto da virtualização, no contexto do NFV, disponibilizar métodos dinâmicos para criar e gerir as funções de rede e os fluxos de tráfego entre eles. Com isto, o conceito de NFV foca-se em explorar a criação e gestão dinâmica do conjunto de funções de rede e da sua interação com o plano de dados, controlo e de gestão. A título de exemplo, o NF Forwarding Graph foca-se nas relações entre funções de redes no que diz respeito à sua conectividade e aos aspectos introduzidos pela sua virtualização.</p><p>Para além disso, os serviços de rede do futuro serão diferentes dos atuais. Para se ter uma ideia, esses serviços irão incluir uma diversidade de funções de rede não-virtuais e virtuais, sendo esta última suportada por uma infraestrutura de rede e capacidade de computação virtualizada. Ao conjugar estes dois domínios (o virtual e o não-virtual) haverá a necessidade de interoperabilidade entre ambos.</p><p>Os atributos dos serviços, em particular fiabilidade, disponibilidade, segurança e desempenho, dependerão das capacidades individuais das funções de rede virtualizadas e da forma como essas funções estão ligadas. Esses atributos estão dependentes uns dos outros pelo que é importante a concepção de uma arquitetura que suporte a grande diversidade de funções de rede que potencialmente podem ser virtualizadas.</p><p>O ETSI tem-se dedicado ao estudo e desenvolvimento de uma arquitetura e dos elementos constituintes que permita implementar o conceito de NFV de uma forma normalizada e que possibilite interoperabilidade. Através desta abordagem, diferentes funções de rede virtualizadas podem ser implementadas sobre um ambiente de virtualização com o objetivo de suportar serviços end-to-end (E2E). E que adicionalmente, possa ser aplicado aos diferentes cenários de rede de um operador de telecomunicações, diminuindo o esforço de configuração e integração</p><p>Para o grupo de trabalho, dedicado ao NFV dentro do ETSI, a virtualização significa que parte da infraestrutura de rede e as funções integrantes são implementadas em software, e como tal, a criação de uma arquitetura NFV é um aspeto importante para a construção de uma framework de trabalho.</p><h2 id=30-framework-nfv-a-name30a>3.0. Framework NFV <a hidden class=anchor aria-hidden=true href=#30-framework-nfv-a-name30a>#</a></h2><h3 id=31-introdução-a-name31a>3.1. Introdução <a hidden class=anchor aria-hidden=true href=#31-introdução-a-name31a>#</a></h3><p>Geralmente em redes não-virtualizadas, as funções de rede são implementadas com base numa combinação de software/hardware de um fabricante específico e que muitas vezes são designados por nós rede ou elementos de rede.</p><p>O NFV representa uma inovação para os apaixonados pelas redes de telecomunicações, introduzindo várias diferenças comparativamente à forma como os serviços são provisionados. Algumas dessas diferenças são:</p><ul><li>Separar software do hardware: permite que o software tenha uma linha de evolução diferente e separada da do hardware. Assim, a evolução de ambos é independente.</li><li>Implementação flexível das funções de rede: a desagregação do software do hardware ajuda a reatribuir e a partilhar os recursos da infraestrutura física e assim cada uma das componentes pode desempenhar funções diferentes. Assumindo que o conjunto de recursos físicos se encontra instalado num determinado Network Functions Virtualization Infrastructure Point-of-Presence (NFVI-POP), o processo de instanciação de funções de rede pode tornar-se mais mecânico. Isto permite aos operadores de redes implementar, sobre a mesma plataforma física, novos serviços de rede.</li><li>Operação dinâmica: ao separar as funcionalidades das funções de rede em componentes capazes de serem instanciadas permitirá maior escalabilidade, dinamismo e ainda maior desempenho das VNFs. Por exemplo, permite ajustar dinamicamente o desempenho da VNF de acordo com o padrão de tráfego.</li></ul><p>De acordo com o que foi descrito anteriormente, de seguida apresenta-se a framework NFV que se baseia nos seguintes pressupostos:</p><ul><li>Suportar um grande número de serviços de rede com diferentes níveis de fiabilidade e disponibilidade, alavancando novas técnicas de virtualização.</li><li>Assegurar que a virtualização não provoca novas ameaças de segurança.</li><li>Minimizar o impacto da interoperabilidade entre as funções de rede virtualizadas e não-virtualizadas.</li><li>Alavancar tecnologia existente no Data Center.</li></ul><p>As funções de redes incorporam diferentes aspetos que muitas vezes estão associados à componente física ou virtual e que não são abordados neste documento.</p><h3 id=32-descrição-de-alto-nível-da-framework-nfv-a-name32a>3.2. Descrição de alto nível da framework NFV <a hidden class=anchor aria-hidden=true href=#32-descrição-de-alto-nível-da-framework-nfv-a-name32a>#</a></h3><p>O NFV prevê a implementação de funções de rede como entidades baseadas em software e que operam sobre a infraestrutura de NFV designada por NFV Infrastructure (NFVI). A figura seguinte ilustra a framework aqui apresentada.</p><table><thead><tr><th style=text-align:center><img loading=lazy src=/img/nfv1.png alt></th></tr></thead><tbody><tr><td style=text-align:center><strong>Figura 1:</strong> Blocos constituintes da Framework NFV.</td></tr></tbody></table><p>A framework NFV apresenta três grandes domínios:</p><ul><li><strong>Virtualised Network Functions (VNFs)</strong> que corresponde à implementação de funções de rede em software e que tem a capacidade de operar sobre o domínio NFVI.</li><li><strong>NFV Infastructure (NFVI)</strong> é composta pela grande diversidade de recursos físicos existentes, assim como, a sua virtualização através da camada intermédia. Este domínio suporta as VNFs.</li><li><strong>NFV Management and Orchestration</strong> corresponde a todos os processos e tarefas específicos da gestão da virtualização. Este domínio abrange ainda o processo de orquestração e de gestão do ciclo de vida do hardware e software que suportam a infraestrutura de virtualização.</li></ul><p>Esta framework permite a gestão dinâmica das VNFs e a criação de relações entre elas e o plano de dados, bem como, controlo e gestão das suas dependências.</p><p>Com base em diferentes perspetivas e de acordo com determinados contextos, esta framework pode permitir:</p><ul><li>Implementar e integrar máquinas virtuais sobre um ambiente de virtualização;</li><li>Utilizar um conjunto de programas/aplicações de um determinado fabricante que pode incluir várias máquinas virtuais interligadas e templates de implementação que definem os atributos;</li><li>Ou ainda, operar e gerir VNFs, que do ponto de vista do operador, podem ser adquiridas através de um programa/aplicação.</li></ul><p>De acordo com as utilizações acima mencionadas, existe a seguinte relação entre VNFs:</p><ul><li>VNF Forwarding Graph (VNF-FG) representa as ligações entre VNF que estão especificadas, como por exemplo: VNFs ligadas em cascata formando um caminho até à camada de web server (firewall, NAT, load balancer).</li><li>VNF Set representa as ligações entre VNFs que não estão especificadas (ex. conjunto de web server).</li></ul><p>De seguida apresenta-se os blocos funcionais dos serviços de rede e a sua associação com os gráficos VNF-FG. Pretende-se assim clarificar o leitor para o facto de que os serviços de rede end-to-end (ex. Internet, VPN, dados móveis e voz) podem ser descritos por um gráfico do tipo NF Forwarding Graph.</p><h2 id=40-serviços-de-rede-no-contexto-nfv-a-name40a>4.0. Serviços de Rede No Contexto NFV <a hidden class=anchor aria-hidden=true href=#40-serviços-de-rede-no-contexto-nfv-a-name40a>#</a></h2><h3 id=41-virtualização-dos-blocos-funcionais-a-name41a>4.1. Virtualização dos Blocos Funcionais <a hidden class=anchor aria-hidden=true href=#41-virtualização-dos-blocos-funcionais-a-name41a>#</a></h3><p>Do ponto de vista do desenho da arquitetura, os serviços de rede podem ser vistos como um gráfico de encaminhamento constituído por funções de rede (NFs) interligados através de uma infraestrutura física. Estas funções de rede podem ser implementadas na rede de um operador de telecomunicações ou em redes de operadores distintos. A forma como as funções de rede operam influência o desempenho dos serviços de alto nível e por conseguinte, o desempenho dos serviços de rede tornam-se numa combinação de procedimentos dos seus blocos funcionais, que podem incluir NFs individuais, um conjunto de NFs, gráficos de encaminhamento NFs e/ou a própria infraestrutura de rede.</p><p>Os end points e as funções de rede de um determinado serviço são representados como nós de rede e que podem corresponder a dispositivos, aplicações e/ou servidores físicos. Num gráfico de encaminhamento de serviços as ligações lógicas podem ser unidirecionais, bidirecionais, ligações em multicast e/ou broadcast.</p><p>A Figura 2 apresenta um serviço de rede end-to-end que inclui no centro uma representação de um NF Forwarding Graph formado pelas NF 1, NF 2 e NF 3, ligadas logicamente. Os end points estão ligados aos NFs através de uma infraestrutura física (wireless ou wired), resultando assim numa ligação lógica entre os dois. Essas ligações lógicas estão representadas por uma linha tracejada.</p><table><thead><tr><th style=text-align:center><img loading=lazy src=/img/nfv2.png alt></th></tr></thead><tbody><tr><td style=text-align:center><strong>Figura 2:</strong> Representação gráfica de um serviço de rede ponto-a-ponto.</td></tr></tbody></table><p>A Figura 3 ilustra o detalhe de um serviço de rede end-to-end e as diferentes camadas que estão envolvidas no processo de virtualização. Neste exemplo, a arquitetura que suporta o serviço de rede é formado por VNFs e dois end points. A camada de virtualização é responsável por desagregar o software do hardware, originando uma camada de abstração entre o sofware e os recursos físicos.</p><p>Os NFVI-PoPs representam os recursos físicos instalados pelo operador (computation, storage e networking).</p><p>Como se pode observar na Figura 3, as funções de rede virtualizadas (VNFs) operam sobre a camada de virtualização, que é uma componente integrante do NFV Infrastructure. O gráfico VNF Forwarding apresentado na Figura 2 também está incluído na ilustração abaixo apresentada. Neste caso específico verifica-se que existe um aglomerado de VNFs designado por VNF-FG-2 e que é composto por VNF-2A, VNF-2B e VNF-2C. Pretende-se assim demonstrar que as interfaces entre funções de rede físicas ou virtuais e a própria infraestrutura de rede num ambiente multi-vendor devem ser baseados em standards.</p><table><thead><tr><th style=text-align:center><img loading=lazy src=/img/nfv3.png alt></th></tr></thead><tbody><tr><td style=text-align:center><strong>Figura 3:</strong> Exemplo de um serviço ponto-a-ponto com VNFs e um aglomerado de VNF-FG.</td></tr></tbody></table><h3 id=42-implicações-no-nfv-a-name42a>4.2. Implicações no NFV <a hidden class=anchor aria-hidden=true href=#42-implicações-no-nfv-a-name42a>#</a></h3><p>A criação de modelos de serviços de rede end-to-end através de técnicas de virtualização pressupõe a introdução de funcionalidades adicionais. O ETSI identifica modelos de serviços aplicáveis no contexto NFV e os requisitos de implementação e operação desses modelos. Porém, este tema está fora do âmbito do presente documento.</p><h2 id=50-arquitetura-detalhada-da-framework-nfv-a-name50a>5.0 Arquitetura Detalhada Da Framework NFV <a hidden class=anchor aria-hidden=true href=#50-arquitetura-detalhada-da-framework-nfv-a-name50a>#</a></h2><h3 id=51-introdução-a-name51a>5.1. Introdução <a hidden class=anchor aria-hidden=true href=#51-introdução-a-name51a>#</a></h3><p>A arquitetura da framework NFV baseia-se nas mudanças que poderão ter que acontecer numa rede de operador devido aos processos de virtualização das funções de rede. É por isso que o ETSI continua a focar os seus esforços em desenvolver uma framework que se baseia em novos blocos funcionais e pilares de referência. De seguida apresenta-se os blocos da arquitetura NFV.</p><h3 id=52-visão-geral-dos-blocos-funcionais-da-arquitetura-nfv-a-name52a>5.2. Visão Geral dos Blocos Funcionais da Arquitetura NFV <a hidden class=anchor aria-hidden=true href=#52-visão-geral-dos-blocos-funcionais-da-arquitetura-nfv-a-name52a>#</a></h3><p>A framework NFV identifica de forma clara os blocos funcionais e principais interfaces de referência entre os blocos. Posto isto, apresenta-se os blocos funcionais:</p><ul><li><p>Virtualised Network Function (VNF);</p></li><li><p>Element Management (EM);</p></li><li><p>NFV Infrastructure, que inclui:</p><ul><li>Recursos Físicos (Hardware),</li><li>Virtualisation Layer e Recursos virtualizados,</li></ul></li><li><p>Virtualised Infrastructure Manager(s);</p></li><li><p>NFV Orchestrator;</p></li><li><p>VNF Manager(s);</p></li><li><p>Service, VNF and Infrastructure Description;</p></li><li><p>Operations and Business Support Systems (OSS/BSS).</p></li></ul><p>A Figura 4 ilustra a arquitetura de referência do NFV, os seus blocos funcionais e as interfaces de interação entre eles. Nesta figura, considera-se que as linhas sólidas que ligam alguns dos blocos funcionais correspondem as interfaces de referência mais importantes e que estão no âmbito do estudo feito pelo ETSI no contexto do NFV.
Esta arquitetura foca-se nas funcionalidades necessárias para a virtualização e consequentemente para a operação da rede do operador de telecomunicações. Segundo o ETSI, esta framework não especifica quais as funções de rede que devem ser virtualizadas, cabendo assim esta tarefa ao operador de telecomunicações, em conjunto com os seus parceiros (integradores e fabricantes), de analisar e decidir quais as funções de rede podem ou devem ser virtualizadas com base em requisitos tecnológicos e/ou de negócio.</p><table><thead><tr><th style=text-align:center><img loading=lazy src=/img/nfv4.png alt></th></tr></thead><tbody><tr><td style=text-align:center><strong>Figura 4:</strong> Arquitetura de referência do NFV.</td></tr></tbody></table><p>Os subcapítulos seguintes descrevem sucintamente cada um dos blocos funcionais.</p><h3 id=53-virtualised-network-function-vnf-a-name53a>5.3. Virtualised Network Function (VNF) <a hidden class=anchor aria-hidden=true href=#53-virtualised-network-function-vnf-a-name53a>#</a></h3><p>A virtualização de funções de rede é, como o próprio nome indica, abstrair funções de rede implementadas num equipamento físico, que estão profundamente interligadas, e virtualiza-las na própria rede. A título de exemplo, funções de rede como Mobility Management Entity (MME), Serving Gateway (SGW) e Packet Data Network Gateway (PGW) podem ser virtualizadas. Outros exemplos são: servidores de Dynamic Host Configuration Protocol (DHCP), firewalls e Residential Gateways (RGWs).</p><p>O ETSI alega que os modos de funcionamento das funções de rede não estão dependentes da forma como são implementados, isto é, se são implementadas fisicamente ou virtualmente. É espectável que o modo de funcionamento e o desempenho das interfaces externas das funções de rede física e das funções de rede virtuais venham a ser iguais.</p><p>Uma VNF pode ser constituída por várias componentes. Por exemplo, uma VNF pode ser implementada em diferentes máquinas virtuais onde cada uma destas máquinas virtuais acomoda uma das componentes da VNF. No entanto, a mesma VNF pode ser instanciada na mesma máquina virtual.</p><h3 id=54-element-managament-em-a-name54a>5.4. Element Managament (EM) <a hidden class=anchor aria-hidden=true href=#54-element-managament-em-a-name54a>#</a></h3><p>O Element Management é responsável pela gestão de uma ou variais VNFs.</p><h3 id=55-nfv-infrastructure-a-name54a>5.5. NFV Infrastructure <a hidden class=anchor aria-hidden=true href=#55-nfv-infrastructure-a-name54a>#</a></h3><p><strong>Definição de NFV Infrastructure</strong></p><p>A Infraestrutura NFV ou NVF Infrastructure corresponde a todas as componentes de hardware e software que permitem criar o ambiente necessário para implementar, gerir e manter VNFs. Esta infraestrutura pode estar espalhada pelas diferentes NFVI-PoPs.</p><p>Do ponto de vista das VNFs, a camada de virtualização e os recursos físicos apresentam-se como uma entidade única fornecendo os recursos virtuais necessário ao funcionamento da VNF.</p><p><strong>Recursos Físicos (Hardware)</strong></p><p>No âmbito do NFV, os recursos físicos incluindo computação, armazenamento e recursos de rede, fornecem às VNFs computação, armazenamento e conectividade através da camada de virtualização. Assume-se que a capacidade de processamento seja fornecida por hardware genérico e não hardware dedicado e desenvolvido com o propósito de suportar uma determinada função de rede.</p><p><strong>Virtualisation Layer e Recursos virtualizados</strong></p><p>A camada de virtualização abstrai os recursos físicos e permite desagregar o software da infraestrutura física. Desta forma é possível garantir que o tempo de vida do hardware é distinto do software.</p><p>Em suma, a camada de virtualização é responsável por:</p><ul><li>Abstrair os recursos físicos;</li><li>Permitir que as VNFs utilizem a infraestrutura virtualizada;</li><li>Fornecer recursos virtuais às VNFs.</li></ul><p>Como mencionado anteriormente, a Arquitetura de referência do NFV é apresentada na Figura 4. A camada de virtualização garante que as VNFs são dissociadas dos recursos de hardware e, portanto, o software pode ser implantado nos diferentes recursos físicos. Normalmente, este tipo de flexibilidade é fornecido por recursos de computação e armazenamento sob a forma de hypervisors e VMs.</p><p>Esta arquitetura permite o uso de qualquer solução de virtualização, pelo que, é expectável no contexto NFV seja utilizado camadas de virtualização com características e interfaces standard. Em alguns casos, as VMs podem ter acesso direto a recursos de hardware (por exemplo, interface de rede) para um melhor desempenho. No entanto, em NFV, VMs devem permitir abstrair os recursos físicos da rede.</p><h3 id=56-virtualised-infrastructure-managers-a-name56a>5.6. Virtualised Infrastructure Manager(s) <a hidden class=anchor aria-hidden=true href=#56-virtualised-infrastructure-managers-a-name56a>#</a></h3><p>A gestão da infraestrutura virtualizada possui funcionalidades que são usadas para controlar e gerir a interação das VNFs com os recursos físicos da rede (computação, armazenamento e comunicação). Analisando a Figura 4 e tendo em consideração os recursos físicos especificados nesta arquitetura, o Virtualised Infrastructure Manager é responsável por:</p><ul><li>Fazer a gestão dos hypervisors, capacidade de processamento, comunicação e armazenamento dedicados à infraestrutura NFV;</li><li>Alocar máquinas virtuais sobre os ambientes de virtualização disponíveis, capacidade de processamento, conectividade de rede e armazenamento para o efeito;</li><li>Gerir os recursos da infraestrutura, ou seja, alocar mais capacidade de processamento às VMs (se necessário) e diminuir o consumo energético (quando possível).</li><li>Dar visibilidade sobre os recursos disponíveis nesta infraestrutura NFV;</li><li>Recolha de informação relevante para permitir um planeamento mais detalhado da infraestrutura, assim como, monitorizar e optimizar;</li><li>Reportar falhas da infraestrutura.</li></ul><p>Em suma, num ambiente NFV, vários Virtualised Infrastructure Manager podem ser implementados.</p><h3 id=57-nfv-orchestrator-a-name57a>5.7. NFV Orchestrator <a hidden class=anchor aria-hidden=true href=#57-nfv-orchestrator-a-name57a>#</a></h3><p>O orquestrador NFV é responsável por orquestrar e fazer a gestão da infraestrutura NFV, das aplicações e dos serviços de rede.</p><h3 id=58-vnf-managers-a-name58a>5.8. VNF Manager(s) <a hidden class=anchor aria-hidden=true href=#58-vnf-managers-a-name58a>#</a></h3><p>O Gestor de VNF tem como função gerir o tempo de vida das funções de rede virtualizadas, ou seja, instalar, atualizar, manter e desinstalar.</p><p>Vários Gestores de VNF podem ser instanciados para gerir várias VNFs ou apenas um Gestor de VNF pode ser instalado para gerir o conjunto de VNFs.</p><h3 id=59-service-vnf-and-infrastructure-description-a-name59a>5.9. Service, VNF and Infrastructure Description <a hidden class=anchor aria-hidden=true href=#59-service-vnf-and-infrastructure-description-a-name59a>#</a></h3><p>Este conjunto de dados fornece informações sobre o modelo/template de implementação de VNF, informações relacionadas com o serviço e VNF Forwarding Graph. Estes modelos/templates são utilizados internamente na gestão e orquestração em NFV. Os blocos funcionais da Gestão NFV e Orquestração lidam diretamente com as informações contidas nos modelos/templates e têm a capacidade para disponibilizar essa informação se necessário.</p><h3 id=510-operations-and-business-support-systems-ossbss-a-name510a>5.10. Operations and Business Support Systems (OSS/BSS) <a hidden class=anchor aria-hidden=true href=#510-operations-and-business-support-systems-ossbss-a-name510a>#</a></h3><p>As ferramentas de OSS e BSS estão ilustradas na arquitetura da Figura 4 e correspondem às ferramentas existentes na rede do operador de telecomunicações.</p><h3 id=511-interfaces-de-referência-a-name511a>5.11. Interfaces de Referência <a hidden class=anchor aria-hidden=true href=#511-interfaces-de-referência-a-name511a>#</a></h3><p>As interfaces de referência entre os blocos funcionais da arquitetura NFV correspondem aos pontos de interação entre estes. O presente documento não detalha e/ou especifica as interfaces pelo que é importante ficar com a ideia de que as interfaces entre os blocos funcionais definem o modo como estes comunicam uns com os outros.</p><h2 id=60-conclusão-e-trabalho-futuro-a-name60a>6.0. Conclusão e Trabalho Futuro <a hidden class=anchor aria-hidden=true href=#60-conclusão-e-trabalho-futuro-a-name60a>#</a></h2><h3 id=conclusão-a-name61a>Conclusão <a hidden class=anchor aria-hidden=true href=#conclusão-a-name61a>#</a></h3><p>O NFV apresenta-se como uma mudança de paradigma nas redes de telecomunicações, na sua operação e na sua gestão. O presente documento focou-se em demonstrar e explicar a arquitetura NFV proposta pelo ETSI, assim como, os seus blocos constituintes, interfaces de referência e da camada de virtualização.</p><p>A implementação bem-sucedida da arquitetura NFV ilustrada neste documento depende do desenvolvimento dos blocos funcionais e das interfaces de comunicação. À data do presente documento, existem tecnologias e soluções capazes de desempenhar as funções de cada bloco funcional descrito anteriormente. O poder de decisão, pelas escolhas de soluções que se enquadram na framework NFV, pertence ao Operador de Telecomunicações e que pode ter em consideração os requisitos técnicos e de negócio.</p><h3 id=trabalho-futuro-a-name62a>Trabalho Futuro <a hidden class=anchor aria-hidden=true href=#trabalho-futuro-a-name62a>#</a></h3><p>Como trabalho futuro, pretende-se explorar em detalhe da tecnologia NFV e estudar soluções existentes no mercado que refletem um ou vários blocos funcionais da arquitetura NFV.</p><h2 id=bibliografia-a-name70a>Bibliografia <a hidden class=anchor aria-hidden=true href=#bibliografia-a-name70a>#</a></h2><p>As referências apresentadas neste capítulo formam a base da criação do presente documento:</p><p>[1] ETSI GS NFV 001: &ldquo;Network Functions Virtualisation (NFV); Use Cases&rdquo;.</p><p>[2] ETSI GS NFV 002: “Network Functions Virtualisation (NFV); Architectural Framework”.</p><p>[3] ETSI GS NFV 003: &ldquo;Network Functions Virtualisation (NFV); Terminology for Main Concepts in NFV&rdquo;.</p><p>[4] ETSI GS NFV 004: &ldquo;Network Functions Virtualisation (NFV); Virtualisation Requirements&rdquo;.</p></div><footer class=post-footer><hr><br><script src=https://storage.ko-fi.com/cdn/scripts/overlay-widget.js></script>
<script>kofiWidgetOverlay.draw("jonathangoc",{type:"floating-chat","floating-chat.donateButton.text":"Support me","floating-chat.donateButton.background-color":"#1e1e1e","floating-chat.donateButton.text-color":"#fff"})</script><ul class=post-tags><li><a href=https://www.jonathangoc.com/tags/tech/>tech</a></li><li><a href=https://www.jonathangoc.com/tags/novabase/>novabase</a></li><li><a href=https://www.jonathangoc.com/tags/etsi/>etsi</a></li><li><a href=https://www.jonathangoc.com/tags/virtualisation/>virtualisation</a></li><li><a href=https://www.jonathangoc.com/tags/network-functions-virtualization/>Network Functions Virtualization</a></li><li><a href=https://www.jonathangoc.com/tags/nfv/>nfv</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Network Functions Virtualization (NFV) - Arquitetura on twitter" href="https://twitter.com/intent/tweet/?text=Network%20Functions%20Virtualization%20%28NFV%29%20-%20Arquitetura&url=https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f&hashtags=tech%2cnovabase%2cetsi%2cvirtualisation%2cNetworkFunctionsVirtualization%2cnfv"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Network Functions Virtualization (NFV) - Arquitetura on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f&title=Network%20Functions%20Virtualization%20%28NFV%29%20-%20Arquitetura&summary=Network%20Functions%20Virtualization%20%28NFV%29%20-%20Arquitetura&source=https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Network Functions Virtualization (NFV) - Arquitetura on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f&title=Network%20Functions%20Virtualization%20%28NFV%29%20-%20Arquitetura"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Network Functions Virtualization (NFV) - Arquitetura on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Network Functions Virtualization (NFV) - Arquitetura on whatsapp" href="https://api.whatsapp.com/send?text=Network%20Functions%20Virtualization%20%28NFV%29%20-%20Arquitetura%20-%20https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Network Functions Virtualization (NFV) - Arquitetura on telegram" href="https://telegram.me/share/url?text=Network%20Functions%20Virtualization%20%28NFV%29%20-%20Arquitetura&url=https%3a%2f%2fwww.jonathangoc.com%2farticles%2fnetwork-functions-virtualization-architecture%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>Copyright &copy; 2022 Jonathan Carvalho. ♡<br>Powered by PaperMod. ✎</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>